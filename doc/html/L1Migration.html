<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>.NET Based OPC UA Client/Server/PubSub SDK: Migration guides</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header_inner_inner_bg2.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">.NET Based OPC UA Client/Server/PubSub SDK
   &#160;<span id="projectnumber">4.1.0.556</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('L1Migration.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Migration guides </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#L2Migration3_4To4_0">Migration from SDK 3.3.x/3.4.x to 4.1.x</a></li>
<li class="level1"><a href="#L2Migration3_2To3_3">Migration from SDK 3.2.x to 3.3.x</a></li>
<li class="level1"><a href="#L2Migration3_1To3_2">Migration from SDK 3.1.x to 3.2.x</a></li>
<li class="level1"><a href="#L2Migration3_0To3_1">Migration from SDK 3.0.x to 3.1.x</a></li>
<li class="level1"><a href="#L2Migration2To3">Migration from SDK 2.x to 3.0.x</a></li>
<li class="level1"><a href="#L2MigrationFrameworkToCore">Migration of applications based on .NET Framework to .NET Core</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="L2Migration3_4To4_0"></a>
Migration from SDK 3.3.x/3.4.x to 4.1.x</h1>
<ul>
<li>Rename <code>DisableSetFilePermissions</code> InstallationSetting to <a class="el" href="L2Trouble_FilePermissions.html">SetFilePermissions</a>.</li>
<li>UaServer startup behavior changed. Now the server does not start if security is configured but no certificate could be found. For more information look into our <a class="el" href="L2BaseLibSecurity.html">Security</a> section.</li>
<li>MissingCertificate EventHandler has been renamed to <a class="el" href="classUnifiedAutomation_1_1UaBase_1_1ApplicationInstanceBase.html#a7b230f2e37e2ccb0d005b3c699fdeb0f">CertificateNotFound</a>. The new EventHandler is using the generic "EventHandler&lt;CreateCertificateEventArgs&gt;" pattern.</li>
</ul>
<h1><a class="anchor" id="L2Migration3_2To3_3"></a>
Migration from SDK 3.2.x to 3.3.x</h1>
<ul>
<li>The NodeHandleType was extended by the InternalPush constant. The first value, that can now be used is 5u. However, we recommend you to define the constants relative to the VendorDefined constant. That is now 100u and should not be changed with future additions.</li>
</ul>
<h1><a class="anchor" id="L2Migration3_1To3_2"></a>
Migration from SDK 3.1.x to 3.2.x</h1>
<ul>
<li>The <code>UserAccessMask</code> values have been changed from type <code>PermissionType</code> to <code>PermissionTypeDataType</code> due to the implementation of <code>RoleConfiguration</code>.<br />
 If <code>NodeAccessInfo</code> was used so far, please check if the <code>UserAccessMask</code> enum values are still valid in your use case.<br />
 If not, there are also several methods in the <code>NodeAccessInfoUtils</code> class for converting from <code>PermisisonDataTypeData</code> to <code>PermissionType</code>.</li>
</ul>
<h1><a class="anchor" id="L2Migration3_0To3_1"></a>
Migration from SDK 3.0.x to 3.1.x</h1>
<ul>
<li>Application configuration moved to <a class="el" href="classUnifiedAutomation_1_1UaBase_1_1ApplicationInstanceBase.html">ApplicationInstanceBase</a></li>
<li>Set the type of the <code>UaApplicationConfiguration</code> in <code>app.config</code> to "<code>UnifiedAutomation.UaBase.ApplicationConfigurationSection,UnifiedAutomation.UaBase</code>" (remove "<code>.Windows</code>").</li>
<li>Certificate Store path in default configuration changed to <code>%CommonApplicationData%\defaultOrganisationName\CertificateStores\pki\</code>.</li>
<li>Trace path in default configuration changed to <code>%CommonApplicationData%\defaultOrganisationName\Logs\</code>.</li>
</ul>
<h1><a class="anchor" id="L2Migration2To3"></a>
Migration from SDK 2.x to 3.0.x</h1>
<ul>
<li>Remove referenced Unified Automation assemblies and add the distributed packages<ul>
<li>UaBase</li>
<li>UaBase.Windows</li>
<li>UaClient (for client applications)</li>
<li>UaServer (for server applications)</li>
</ul>
</li>
<li>Replace calling <code>new UaClient.Session()</code> by <code>new UaClient.Session(ApplicationInstance.Default)</code>.</li>
<li>Replace <code>XmlElement</code> by <code>XmlString</code> when using the <code>DataType</code> for <code>DataValues</code>.</li>
<li>Replace <code>Utils.GetDefaultIcon</code> by <code>GuiUtils.GetDefaultIcon</code>.</li>
<li>Remove EventHandler MissingHttpsCertificate.</li>
<li>If the ApplicationSettings are set in code, then replace <code>UaSchema.SecuredApplication</code> by <code>ConfigurationInMemory</code>.</li>
<li>The method <code>SecurityUtils.LoadCertificate (string storeType, string storePath, string subjectName, string thumbprint, bool needPrivateKey)</code> has been removed. <br />
 Create a certificate store with <code>SecurityUtils.CreateStore</code> and call <code>ICertificateStore.Find</code> instead.</li>
<li>Add <code>TimestampsToReturn</code> method argument to history read methods, if implemented.</li>
</ul>
<h1><a class="anchor" id="L2MigrationFrameworkToCore"></a>
Migration of applications based on .NET Framework to .NET Core</h1>
<ul>
<li>Change framework to <code>.NET Core 2.0</code> or later.</li>
<li>Remove all dependencies to <code>System.Windows.Forms</code>.</li>
<li>Remove package <code>UaBase.Windows</code>.</li>
<li>Add package <code>UaBase.BouncyCastle</code>.</li>
<li>Replace occurrences of <code>ApplicationInstance</code> by <code>ApplicationInstanceBase</code>. Only use the functionality of <code>ApplicationInstanceBase</code>. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">&copy; Unified Automation GmbH - All rights reserved.</li>
  </ul>
</div>
</body>
</html>
