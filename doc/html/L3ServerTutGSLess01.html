<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>.NET Based OPC UA Client/Server/PubSub SDK: Lesson 1: Setting up a Basic OPC UA Server Console Application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="header_inner_inner_bg2.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">.NET Based OPC UA Client/Server/PubSub SDK
   &#160;<span id="projectnumber">4.1.0.556</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('L3ServerTutGSLess01.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Lesson 1: Setting up a Basic OPC UA Server Console Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#L4ServerTutGSLess01Step01">Create an Empty Server</a></li>
<li class="level1"><a href="#L4ServerTutGSLess01Step02">Prepare Integration of Product Specific Information</a></li>
<li class="level1"><a href="#L4ServerTutGSLess01Step03">Options for Loading Configuration Settings</a></li>
</ul>
</div>
<div class="textblock"><p>The first lesson starts with an empty OPC UA server describing the code for integration of an OPC UA server component into a .NET application and the different server configuration options.</p>
<h1><a class="anchor" id="L4ServerTutGSLess01Step01"></a>
Create an Empty Server</h1>
<p>The product specific information integration must be registered with the OPC UA server SDK. This is done by deriving a project specific class form the SDK class <a class="el" href="classUnifiedAutomation_1_1UaServer_1_1ServerManager.html">ServerManager</a>. In the first step this derived class GettingStartedServerManager in the file GettingStartedServerManager.cs is empty.</p>
<div class="fragment"><div class="line"><span class="keyword">internal</span> <span class="keyword">class </span>GettingStartedServerManager : ServerManager</div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --><p>The main integration code for adding the OPC UA server to the console application can be found in Program.cs.</p>
<p>The license for the server SDK must be loaded first from the embedded resource.</p>
<p>To start the server an instance of the GettingStartedServerManager is created and passed to the start method of the default application instance object.</p>
<p>The configuration of the server is done through the App.config file for the .NET Framework version of the sdk. For the .NET Core and .NET version of the sdk, the configuration is set in code. The configuration options are described later in this lesson.</p>
<div class="fragment"><div class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keywordtype">void</span> Main(<span class="keywordtype">string</span>[] args)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// The license file must be loaded from an embedded resource.</span></div>
<div class="line">                ApplicationLicenseManager.AddProcessLicenses(typeof(Program).Assembly, <span class="stringliteral">&quot;License.lic&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Start the server.</span></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Starting Server.&quot;</span>);</div>
<div class="line">                GettingStartedServerManager server = <span class="keyword">new</span> GettingStartedServerManager();</div>
<div class="line">                <span class="comment">//***********************************************************************</span></div>
<div class="line">                <span class="comment">// The following function can be called to configure the server from code</span></div>
<div class="line">                <span class="comment">// This will disable the configuration settings from app.config file</span></div>
<div class="line">                <span class="comment">//ConfigureOpcUaApplicationFromCode();</span></div>
<div class="line">                <span class="comment">//***********************************************************************</span></div>
<div class="line"></div>
<div class="line">                ApplicationInstanceBase application;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#if NETFRAMEWORK</span></div>
<div class="line">                application = ApplicationInstance.Default;</div>
<div class="line">                <span class="comment">// Setting the SecurityProvider is not required to be able to create certificates,</span></div>
<div class="line">                <span class="comment">// since WindowsSecurityProvider is created implicitly by ApplicationInstance class.</span></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">                application = ApplicationInstanceBase.Default;</div>
<div class="line">                ConfigureOpcUaApplicationFromCode();</div>
<div class="line">                <span class="comment">// Setting the SecurityProvider is required to be able to create certificates.</span></div>
<div class="line">                application.SecurityProvider = <span class="keyword">new</span> BouncyCastleSecurityProvider();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">                application.AutoCreateCertificate = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">                application.UntrustedCertificate += Application_UntrustedCertificate;</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Set event handler for modifying the ApplicationSettings after loading.</span></div>
<div class="line">                application.ApplicationSettingsLoaded += Application_ApplicationSettingsLoaded;</div>
<div class="line"></div>
<div class="line">                application.Start(server, null, server);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Print endpoints for information.</span></div>
<div class="line">                PrintEndpoints(server);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Block until the server exits.</span></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Press &lt;enter&gt; to exit the program.&quot;</span>);</div>
<div class="line">                Console.ReadLine();</div>
<div class="line"></div>
<div class="line">                <span class="comment">// Stop the server.</span></div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Stopping Server.&quot;</span>);</div>
<div class="line">                server.Stop();</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">catch</span> (Exception e)</div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;ERROR: {0}&quot;</span>, e.Message);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Press &lt;enter&gt; to exit the program.&quot;</span>);</div>
<div class="line">                Console.ReadLine();</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"></div>
</div><!-- fragment --><p> The server can be started and a client is able to connect. All information in the server address space is defined by the OPC UA specification. The NamespaceArray contains only two namespaces, the OPC UA defined namespace and the local server namespace.</p>
<p>The method PrintEndpoints is used to print the available endpoints to the command line (just as an information for the server developer).</p>
<div class="fragment"><div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> PrintEndpoints(GettingStartedServerManager server)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// print the endpoints.</span></div>
<div class="line">            Console.WriteLine(<span class="keywordtype">string</span>.Empty);</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Listening at the following endpoints:&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">foreach</span> (EndpointDescription endpoint <span class="keywordflow">in</span> server.Application.Endpoints)</div>
<div class="line">            {</div>
<div class="line">                <a class="code" href="namespaceUnifiedAutomation_1_1UaBase.html#a5c65b5d5d05c3f82bdeef88928d74328a72381d4605940627a6e846d5f3155c51">StatusCode</a> error = server.Application.GetEndpointStatus(endpoint);</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;   {0}: Status={1}&quot;</span>, endpoint, error.ToString(<span class="keyword">true</span>));</div>
<div class="line">            }</div>
<div class="line"></div>
<div class="line">            Console.WriteLine(<span class="keywordtype">string</span>.Empty);</div>
<div class="line">        }</div>
</div><!-- fragment --><h1><a class="anchor" id="L4ServerTutGSLess01Step02"></a>
Prepare Integration of Product Specific Information</h1>
<p>A product specific NodeManager can be loaded by overwriting OnRootNodeManagerStarted in GettingStartedServerManager.cs.</p>
<div class="fragment"><div class="line">        <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnRootNodeManagerStarted(RootNodeManager nodeManager)</div>
<div class="line">        {</div>
<div class="line">            Console.WriteLine(<span class="stringliteral">&quot;Creating Node Managers.&quot;</span>);</div>
<div class="line"></div>
<div class="line">            Lesson01NodeManager lession1 = <span class="keyword">new</span> Lesson01NodeManager(<span class="keyword">this</span>);</div>
<div class="line">            lession1.Startup();</div>
<div class="line">        }</div>
</div><!-- fragment --><p> The class Lesson1NodeManager is derived from the <a class="el" href="classUnifiedAutomation_1_1UaServer_1_1BaseNodeManager.html">BaseNodeManager</a> class which forms the Toolkit API. It overloads the methods Startup and Shutdown.</p>
<p>In Lesson1NodeManager.cs, the namespace URI is set in Startup.</p>
<div class="fragment"><div class="line">        <span class="keyword">public</span> <span class="keyword">override</span> <span class="keywordtype">void</span> Startup()</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">try</span></div>
<div class="line">            {</div>
<div class="line">                Console.WriteLine(<span class="stringliteral">&quot;Starting Lesson01NodeManager.&quot;</span>);</div>
<div class="line"></div>
<div class="line">                base.Startup();</div>
<div class="line"></div>
<div class="line">                AddNamespaceUri(<span class="stringliteral">&quot;http://yourorganisation.com/lesson01/&quot;</span>);</div>
<div class="line"></div>
<div class="line">                <span class="comment">// TBD</span></div>
<div class="line">            }</div>
</div><!-- fragment --><p> The server NamespaceArray does now contain a third namespace.</p>
<h1><a class="anchor" id="L4ServerTutGSLess01Step03"></a>
Options for Loading Configuration Settings</h1>
<p>The configuration settings are managed by the class <a class="el" href="classUnifiedAutomation_1_1UaBase_1_1ApplicationInstanceBase.html">ApplicationInstanceBase</a>. This class provides options to load the settings from XML in addition. The settings have to be set in code.</p>
<p>The <a class="el" href="L1BaseLibOverview.html">Base Library Overview</a> provides more details regarding configuration with <a class="el" href="L2BaseLibAppInstanceBase.html">Application Instance Base</a> or <a class="el" href="L2BaseLibAppInstance.html">Application Instance</a>, the <a class="el" href="L2BaseLibConfigSchema.html">Configuration Schema</a> for the configuration options and the <a class="el" href="L2BaseLibInstallProcess.html">Installation Process</a>.</p>
<p>The file Program.cs of this lesson contains the following function ConfigureOpcUaApplicationFromCode with sample code to set the configuration settings from code before starting the application instance. The default option used in the server getting started lessons for .NET framework is the App.config file. For .Net Core and .Net ConfigureOpcUaApplicationFromCode() can be called instead before starting the application instance.</p>
<p>The <a class="el" href="L2BaseLibConfigSchema.html#L3BaseLibConfigSchemaSecuredApp">standard configuration options</a> can be set directly on the class <a class="el" href="classUnifiedAutomation_1_1UaSchema_1_1SecuredApplication.html">SecuredApplication</a>.</p>
<p>Additional configuration options like <a class="el" href="L2BaseLibConfigSchema.html#L3BaseLibConfigSchemaTraceSettings">Trace Settings</a>, <a class="el" href="L2BaseLibConfigSchema.html#L3BaseLibConfigSchemaServerSettings">Server Settings</a>, <a class="el" href="L2BaseLibConfigSchema.html#L3BaseLibConfigSchemaUserIdSettings">User Identity Settings</a>, <a class="el" href="L2BaseLibConfigSchema.html#L3BaseLibConfigSchemaSessionSettings">Session Settings</a> and <a class="el" href="L2BaseLibConfigSchema.html#L3BaseLibConfigSchemaSubscriptionSettings">Subscription Settings</a> can be set as extension to the <a class="el" href="classUnifiedAutomation_1_1UaSchema_1_1SecuredApplication.html">SecuredApplication</a>.</p>
<p>This code requires an assembly reference to System.Runtime.Serialization.</p>
<div class="fragment"><div class="line"><span class="keyword">using</span> <a class="code" href="namespaceUnifiedAutomation.html">UnifiedAutomation</a>.<a class="code" href="namespaceUnifiedAutomation_1_1UaSchema.html">UaSchema</a>;</div>
</div><!-- fragment --><div class="fragment"><div class="line">        <span class="keyword">static</span> <span class="keywordtype">void</span> ConfigureOpcUaApplicationFromCode()</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// fill in the application settings in code</span></div>
<div class="line">            <span class="comment">// The configuration settings are typically provided by another module</span></div>
<div class="line">            <span class="comment">// of the application or loaded from a data base. In this example the</span></div>
<div class="line">            <span class="comment">// settings are hardcoded</span></div>
<div class="line">            var configuration = <span class="keyword">new</span> ConfigurationInMemory();</div>
<div class="line"></div>
<div class="line">            <span class="keywordtype">string</span> environmentPath = <span class="stringliteral">&quot;%CommonApplicationData%&quot;</span>;</div>
<div class="line">            <span class="comment">// override path for net core on non windows platform</span></div>
<div class="line">            <span class="keywordflow">if</span> (!PlatformUtils.IsWindows()) environmentPath = <span class="stringliteral">&quot;%LocalApplicationData%&quot;</span>;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// ***********************************************************************</span></div>
<div class="line">            <span class="comment">// standard configuration options</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// general application identification settings</span></div>
<div class="line">            configuration.ApplicationName = <span class="stringliteral">&quot;UnifiedAutomation GettingStartedServer&quot;</span>;</div>
<div class="line">            configuration.ApplicationUri = <span class="stringliteral">&quot;urn:localhost:UnifiedAutomation:GettingStartedServer&quot;</span>;</div>
<div class="line">            configuration.ApplicationType = <a class="code" href="namespaceUnifiedAutomation.html">UnifiedAutomation</a>.<a class="code" href="namespaceUnifiedAutomation_1_1UaSchema.html">UaSchema</a>.ApplicationType.Server_0;</div>
<div class="line">            configuration.ProductName = <span class="stringliteral">&quot;UnifiedAutomation GettingStartedServer&quot;</span>;</div>
<div class="line"></div>
<div class="line">            <span class="comment">// configure application certificate and paths to the certificate stores</span></div>
<div class="line">            configuration.SetSecurity(PlatformUtils.CombinePath(environmentPath, <span class="stringliteral">&quot;unifiedautomation&quot;</span>, <span class="stringliteral">&quot;UaSdkNet&quot;</span>, <span class="stringliteral">&quot;pki&quot;</span>), <span class="stringliteral">&quot;CN=GettingStartedServer/O=UnifiedAutomation/DC=localhost&quot;</span>);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// configure endpoints</span></div>
<div class="line">            configuration.BaseAddresses = <span class="keyword">new</span> <a class="code" href="namespaceUnifiedAutomation.html">UnifiedAutomation</a>.<a class="code" href="namespaceUnifiedAutomation_1_1UaSchema.html">UaSchema</a>.<a class="code" href="classUnifiedAutomation_1_1UaSchema_1_1ListOfBaseAddresses.html">ListOfBaseAddresses</a>();</div>
<div class="line">            configuration.BaseAddresses.Add(<span class="stringliteral">&quot;opc.tcp://localhost:48030&quot;</span>);</div>
<div class="line"></div>
<div class="line">            configuration.SecurityProfiles = <span class="keyword">new</span> ListOfSecurityProfiles();</div>
<div class="line">            configuration.SecurityProfiles.Add(<span class="keyword">new</span> SecurityProfile() { ProfileUri = SecurityProfiles.Basic256Sha256, Enabled = <span class="keyword">true</span> });</div>
<div class="line">            configuration.SecurityProfiles.Add(<span class="keyword">new</span> SecurityProfile() { ProfileUri = SecurityProfiles.Aes128Sha256RsaOaep, Enabled = <span class="keyword">true</span> });</div>
<div class="line">            configuration.SecurityProfiles.Add(<span class="keyword">new</span> SecurityProfile() { ProfileUri = SecurityProfiles.Aes256Sha256RsaPss, Enabled = <span class="keyword">true</span> });</div>
<div class="line">            <span class="comment">// This SecurityProfile is enabled for testing purposes. It shall NOT be enabled in end user products.</span></div>
<div class="line">            configuration.SecurityProfiles.Add(<span class="keyword">new</span> SecurityProfile() { ProfileUri = SecurityProfiles.None, Enabled = <span class="keyword">true</span> });</div>
<div class="line"></div>
<div class="line">            <span class="comment">// ***********************************************************************</span></div>
<div class="line">            <span class="comment">// extended configuration options</span></div>
<div class="line"></div>
<div class="line">            <span class="comment">// trace settings</span></div>
<div class="line">            TraceSettings trace = <span class="keyword">new</span> TraceSettings();</div>
<div class="line"></div>
<div class="line">            trace.MasterTraceEnabled = <span class="keyword">false</span>;</div>
<div class="line">            trace.DefaultTraceLevel = <a class="code" href="namespaceUnifiedAutomation.html">UnifiedAutomation</a>.<a class="code" href="namespaceUnifiedAutomation_1_1UaSchema.html">UaSchema</a>.TraceLevel.Info;</div>
<div class="line">            trace.TraceFile = PlatformUtils.CombinePath(environmentPath, <span class="stringliteral">&quot;unifiedautomation&quot;</span>, <span class="stringliteral">&quot;UaSdkNet&quot;</span>, <span class="stringliteral">&quot;logs&quot;</span>, FilePathUtils.MakeValidFileName(configuration.ApplicationName) + <span class="stringliteral">&quot;.log.txt&quot;</span>);</div>
<div class="line">            trace.MaxLogFileBackups = 3;</div>
<div class="line"></div>
<div class="line">            trace.ModuleSettings = <span class="keyword">new</span> ModuleTraceSettings[]</div>
<div class="line">                {</div>
<div class="line">                    <span class="keyword">new</span> ModuleTraceSettings() { ModuleName = <span class="stringliteral">&quot;UnifiedAutomation.Stack&quot;</span>, TraceEnabled = <span class="keyword">true</span> },</div>
<div class="line">                    <span class="keyword">new</span> ModuleTraceSettings() { ModuleName = <span class="stringliteral">&quot;UnifiedAutomation.Server&quot;</span>, TraceEnabled = <span class="keyword">true</span> },</div>
<div class="line">                };</div>
<div class="line"></div>
<div class="line">            configuration.Set&lt;TraceSettings&gt;(trace);</div>
<div class="line"></div>
<div class="line">            <span class="comment">// Installation settings</span></div>
<div class="line">            InstallationSettings installation = <span class="keyword">new</span> InstallationSettings();</div>
<div class="line"></div>
<div class="line">            installation.GenerateCertificateIfNone = <span class="keyword">true</span>;</div>
<div class="line">            installation.DeleteCertificateOnUninstall = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line">            configuration.Set&lt;InstallationSettings&gt;(installation);</div>
<div class="line"></div>
<div class="line">            configuration.ServerSettings = <span class="keyword">new</span> ServerSettings()</div>
<div class="line">            {</div>
<div class="line">                ProductName = <span class="stringliteral">&quot;UnifiedAutomation GettingStartedServer&quot;</span>,</div>
<div class="line">                DiscoveryRegistration = <span class="keyword">new</span> DiscoveryRegistrationSettings()</div>
<div class="line">                {</div>
<div class="line">                    Enabled = <span class="keyword">false</span></div>
<div class="line">                },</div>
<div class="line">                Capabilities = <span class="keyword">new</span> <span class="keywordtype">string</span>[]</div>
<div class="line">                {</div>
<div class="line">                    <span class="stringliteral">&quot;DA&quot;</span></div>
<div class="line">                },</div>
<div class="line">                ProductUri  = <span class="stringliteral">&quot;urn:unifiedautomation.gettingstarted&quot;</span></div>
<div class="line">            };</div>
<div class="line"></div>
<div class="line">            <span class="comment">// ***********************************************************************</span></div>
<div class="line">            <span class="comment">// set the configuration for the application (must be called before start to have any effect).</span></div>
<div class="line">            <span class="comment">// these settings are discarded if the /configFile flag is specified on the command line.</span></div>
<div class="line">            ApplicationInstanceBase.Default.SetApplicationSettings(configuration);</div>
<div class="line">        }</div>
</div><!-- fragment --></div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="L1ServerTutorials.html">Tutorials for Server development</a></li><li class="navelem"><a class="el" href="L2ServerTutGettingStarted.html">Getting Started</a></li>
    <li class="footer">&copy; Unified Automation GmbH - All rights reserved.</li>
  </ul>
</div>
</body>
</html>
